(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(52)},41:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);a(41);var n=a(0),r=a.n(n),c=a(24),i=a.n(c),o=a(13),l=a(8),s=a(35),u=a(37),m=a(34),p=a(26),d=a(5),h=a(7),E={},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PHONES_SUCCESS":var r=n.reduce(function(e,t){return e[t.id]=t,e},{});return Object(h.a)({},e,r);case"LOAD_MORE_PHONES_SUCCESS":var c=n.reduce(function(e,t){return e[t.id]=t,e},{});return Object(h.a)({},e,c);case"FETCH_PHONES_BY_ID_SUCCESS":var i=n.reduce(function(e,t){return e[t.id]=t,e},{});return Object(h.a)({},e,i);default:return e}},v={},b=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0,n=a.type,r=a.payload;switch(n){case"FETCH_CATEGORIES_SUCCESS":var c=(e="id",r.reduce(function(t,a){return t[a[e]]=a,t},{}));return Object(h.a)({},t,c);default:return t}},y={ids:[],search:" "},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PHONES_SUCCESS":return Object(h.a)({},e,{ids:n.map(function(e){return e.id})});case"LOAD_MORE_PHONES_SUCCESS":var r=n.map(function(e){return e.id});return Object(h.a)({},e,{ids:e.ids.concat(r)});case"SEARCH_PHONE":return Object(h.a)({},e,{search:n});default:return e}},N={id:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PHONES_BY_ID_SUCCESS":return Object(h.a)({},e,{id:n[0].id});default:return e}},S=a(21),_=[],C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_PHONE_TO_BASKET":return[].concat(Object(S.a)(e),Object(S.a)(n));case"DELETE_PHONE_TO_BASKET":var r=e.filter(function(e){return e!==n});return Object(S.a)(r);case"CLEAN_BASCET":return _;default:return e}},k=a(3),A=function(e,t){return e.phones[t]},x=function(e){return e.match.params.id},w=function(e,t){var a=x(t);return void 0===a?e.phonesPage.ids.map(function(t){return A(e,t)}).filter(function(t){return t.name.includes(e.phonesPage.search)}):e.phonesPage.ids.map(function(t){return A(e,t)}).filter(function(e){return e.categoryId===a}).filter(function(t){return t.name.includes(e.phonesPage.search)})},P=function(e){return e.basket.map(function(t){return A(e,t)}).reduce(function(e,t){return e+t.price},0)},j=function(e){return e.basket.length},B=function(e){return Object.values(e.categories)},H=function(e){var t=e.basket.reduce(function(e,t){return e[t]=(e[t]||0)+1,e},{});return Object(S.a)(new Set(e.basket)).map(function(a){return Object(h.a)({},A(e,a),{count:t[a]})})},T=a(4),G=a.n(T),I=a(14),R=[{id:"1",categoryId:"1",name:"Apple iPhone 5c",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:823,image:"/uploads/iphone5c-selection-hero-2013.png",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"1480 mAh",memory:"16GB, 32GB and RAM 1 GB"},{id:"2",categoryId:"1",name:"Apple iPhone 6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:953,image:"/uploads/51u6y9Rm8QL._SY300_.jpg",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"1480 mAh",memory:"16GB, 32GB and RAM 1 GB"},{id:"3",categoryId:"4",name:"Lenovo A6000",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:764,image:"/uploads/_35%20(1).JPG",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"2000 mAh",memory:"16GB, 32GB and RAM 1 GB"},{id:"4",categoryId:"5",name:"Nokia Lumia 1520",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:674,image:"/uploads/Lumia1520-Front-Back-png.png",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"1480 mAh",memory:"16GB, 32GB and RAM 1 GB"},{id:"5",categoryId:"3",name:"HTC One",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:674,image:"/uploads/htc-one-m7-802w-dual-sim-silver.jpg",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"1480 mAh",memory:"16GB, 32GB and RAM 1 GB"},{id:"6",categoryId:"2",name:"Samsung Galaxy S6",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta",price:674,image:"/uploads/Agnes_Case_for_Samsung_Galaxy_S6_(1)__92643_thumb.jpg",cpu:"1.3GHz Apple A6",camera:"8mp (3264x2448)",size:"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)",weight:"132 grams (4.7 ounces) with battery",display:"4.0 326 pixel density",battery:"1480 mAh",memory:"16GB, 32GB and RAM 1 GB"}],L=[{id:"1",name:"Apple"},{id:"2",name:"Samsung"},{id:"3",name:"Htc"},{id:"4",name:"Lenovo"},{id:"5",name:"Microsoft"}],F=function(){var e=Object(I.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){e(R)}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(I.a)(G.a.mark(function e(){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){e(L)}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(I.a)(G.a.mark(function e(t){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.offset,e.abrupt("return",new Promise(function(e,t){e(R)}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(I.a)(G.a.mark(function e(t){return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){e(R.filter(function(e){return e.id===t}))}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),z=function(e){return function(t){return t({type:"ADD_PHONE_TO_BASKET",payload:e})}},Y=a(12),q={removePhoneFromBasket:function(e){return function(t){return t({type:"DELETE_PHONE_TO_BASKET",payload:e})}},basketCheckout:function(e){alert(JSON.stringify(e))},cleanBasket:function(){return function(e){return e({type:"CLEAN_BASCET"})}}},$=Object(d.c)(function(e){return{phones:H(e),totalPrice:P(e)}},q)(function(e){var t=e.phones,a=e.totalPrice,n=e.removePhoneFromBasket,c=e.basketCheckout,i=e.cleanBasket,o=t.length<=0;return r.a.createElement("div",{className:"view-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},function(e){var n=e.removePhoneFromBasket;return r.a.createElement("div",null,o&&r.a.createElement("div",null,"Your shopping cart is empty"),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table-bordered table-striped table-condensed cf"},r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement("tr",{key:t,className:"item-checout"},r.a.createElement("td",{className:"first-column-checkout"},r.a.createElement("img",{className:"img-thumbnail",src:e.image,alt:e.name})),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.count),r.a.createElement("td",null,r.a.createElement("span",{onClick:function(){return n(e.id)},className:"delete-cart"})))})))),!o&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"pull-right total-user-checkout"},r.a.createElement("b",null,"Total: "),"$",a)))}({removePhoneFromBasket:n})),r.a.createElement("div",{className:"col-md-3 btn-user-checkout"},r.a.createElement("div",null,r.a.createElement(Y.a,{to:"/",className:"btn btn-info"},r.a.createElement("span",{className:"glyphicon glyphicon-info-sign"}),r.a.createElement("span",null,"Continue shopping")),!o&&r.a.createElement("div",null,r.a.createElement("button",{onClick:i,className:"btn btn-danger"},r.a.createElement("span",{className:"glyphicon glyphicon-trash"}),"Clean cart"),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return c(t)}},r.a.createElement("span",{className:"glyphicon glyphicon-envelope"}),"Clean cart")))))))}),J=a(39),K=a(16),Q=a(17),W=a(19),V=a(18),X=a(20),Z=Object(d.c)(function(e){return{totalBasketCount:j(e),totalPrice:P(e)}},null)(function(e){var t=e.totalPrice,a=e.totalBasketCount;return r.a.createElement("div",{className:"cart"},r.a.createElement("div",{className:"dropdown"},r.a.createElement(Y.a,{to:"/basket",id:"dLabel",className:"btn btn-inverse btn-block btn-lg"},r.a.createElement("i",{className:"fa fa-fa-shopping-cart"}),r.a.createElement("span",null,"".concat(a," Item(s) - ").concat(t,"$")))))}),ee=function(e){function t(){return Object(K.a)(this,t),Object(W.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(X.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPhoneById(this.props.match.params.id)}},{key:"renderFields",value:function(){var e,t=this.props.phone;return Object.entries({cpu:(e=t).cpu,camera:e.camera,size:e.size,weight:e.weight,display:e.display,battery:e.battery,memory:e.memory}).map(function(e){var t=Object(J.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:"column",key:a},r.a.createElement("div",{className:"ab-details-title"},a),r.a.createElement("div",{className:"ab-details-info"},n))})}},{key:"renderContent",value:function(){var e=this.props.phone;return r.a.createElement("div",{className:"thumbnail"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{className:"image-thumbnail",src:e.image,alt:e.name})),r.a.createElement("div",{className:"col-md-6"},this.renderFields())),r.a.createElement("div",{className:"caption-full"},r.a.createElement("h4",{className:"pull-right"},"$",e.price),r.a.createElement("h4",null,e.name),r.a.createElement("p",null,e.description)))}},{key:"renderSidebar",value:function(){var e=this.props,t=e.phone,a=e.addPhoneToBasket;return r.a.createElement("div",null,r.a.createElement("p",{className:"lead"},"Quick shop"),r.a.createElement(Z,null),r.a.createElement("div",{className:"form-group"},r.a.createElement("h1",null,t.name),r.a.createElement("h2",null,"$",t.price)),r.a.createElement(Y.a,{to:"/",className:"btn btn-info btn-block"},"Back to store"),r.a.createElement("div",{className:"btn btn-success btn-block",type:"button",onClick:function(){return a(t.id)}},"Add to Cart"))}},{key:"render",value:function(){var e=this.props.phone;return r.a.createElement("div",{className:"view-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},e&&this.renderContent()),r.a.createElement("div",{className:"col-md-3"},e&&this.renderSidebar()))))}}]),t}(n.Component),te={fetchPhoneById:function(e){return function(){var t=Object(I.a)(G.a.mark(function t(a){var n;return G.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_PHONES_BY_ID_START"}),t.prev=1,t.next=4,U(e);case 4:n=t.sent,a({type:"FETCH_PHONES_BY_ID_SUCCESS",payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"FETCH_PHONES_BY_ID_FAILURE",payload:t.t0,error:!0});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},addPhoneToBasket:z},ae=Object(d.c)(function(e){return{phone:A(e,e.phonePage.id)}},te)(ee),ne=a(32),re=a.n(ne),ce=Object(o.compose)(k.f,Object(d.c)(function(e,t){return{categories:B(e),activeCategoryId:x(t)}},null))(function(e){var t=e.categories,a=e.activeCategoryId;return r.a.createElement("div",{className:"well"},r.a.createElement("h4",null,"Brand"),r.a.createElement("div",{className:"list-group"},function(){var e=re()({"list-group-item":!0,active:void 0===a});return r.a.createElement(Y.a,{to:"/",className:e},"All")}(),t.map(function(e,t){return function(e,t){var n,c=re()({"list-group-item":!0,active:(n=e.id,a===n)});return r.a.createElement(Y.a,{to:"/categories/".concat(e.id),className:c,key:t},e.name)}(e,t)})))}),ie=a(23),oe=function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(W.a)(this,Object(V.a)(t).call(this,e))).state={value:""},a.handleSubmit=a.handleSubmit.bind(Object(ie.a)(a)),a.handleChange=a.handleChange.bind(Object(ie.a)(a)),a}return Object(X.a)(t,e),Object(Q.a)(t,[{key:"handleChange",value:function(e){console.log(e.target.value),this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.searchPhone(this.state.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"well blosd"},r.a.createElement("h3",{className:"lead"},"Quick shop "),r.a.createElement("div",{className:"input-group"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange})),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-default"},r.a.createElement("span",{className:"glyphicon glyphicon-search"})))))}}]),t}(n.Component),le={searchPhone:function(e){return function(t){return t({type:"SEARCH_PHONE",payload:e})}}},se=Object(d.c)(null,le)(oe),ue=function(){return r.a.createElement("div",null,r.a.createElement(Z,null),r.a.createElement(se,null),r.a.createElement(ce,null))},me=function(e){var t=e.children;return r.a.createElement("div",{className:"view-container"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement(ue,null)),r.a.createElement("div",{className:"col-md-9"},t))))},pe=function(e){function t(){return Object(K.a)(this,t),Object(W.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(X.a)(t,e),Object(Q.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPhones(),this.props.fetchCategories()}},{key:"renderPhone",value:function(e,t){var a="".concat(e.description.slice(0,60),"..."),n=this.props.addPhoneToBasket;return r.a.createElement("div",{className:"col-sm-4 col-lg-4 col-md-4 book-list",key:t},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{className:"img-thumbnail",src:e.image,alt:e.name})),r.a.createElement("div",{className:"caption"},r.a.createElement("h4",{className:"pull-right"},"$",e.price),r.a.createElement("h4",null,r.a.createElement(Y.a,{to:"/phones/".concat(e.id)},e.name)),r.a.createElement("p",null,a),r.a.createElement("p",{className:"itemButton"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return n(e.id)}},"Buy Now"),r.a.createElement(Y.a,{to:"/phones/".concat(e.id),className:"btn btn-default"},"More Info"))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.phones,n=t.loadMorePhones;return r.a.createElement(me,null,r.a.createElement("div",{className:"books row"},a&&a.map(function(t,a){return e.renderPhone(t,a)})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("button",{className:"pull-right btn btn-primary",onClick:n},"Load more"))))}}]),t}(n.Component),de={fetchPhones:function(){return function(){var e=Object(I.a)(G.a.mark(function e(t){var a;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_PHONES_START"}),e.prev=1,e.next=4,F();case 4:a=e.sent,t({type:"FETCH_PHONES_SUCCESS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_PHONES_FAILURE",payload:e.t0,error:!0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},fetchCategories:function(){return function(){var e=Object(I.a)(G.a.mark(function e(t){var a;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_CATEGORIES_START"}),e.prev=1,e.next=4,D();case 4:a=e.sent,t({type:"FETCH_CATEGORIES_SUCCESS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_CATEGORIES_FAILURE",payload:e.t0,error:!0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},loadMorePhones:function(){return function(){var e=Object(I.a)(G.a.mark(function e(t,a){var n,r;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=a(),n=c.phonesPage.ids.length,t({type:"LOAD_MORE_PHONES_START"}),e.prev=2,e.next=5,M(n);case 5:r=e.sent,t({type:"LOAD_MORE_PHONES_SUCCESS",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:"LOAD_MORE_PHONES_FAILURE",payload:e.t0,error:!0});case 12:case"end":return e.stop()}var c},e,null,[[2,9]])}));return function(t,a){return e.apply(this,arguments)}}()},addPhoneToBasket:z},he=Object(d.c)(function(e,t){return{phones:w(e,t)}},de)(pe),Ee=r.a.createElement(k.c,null,r.a.createElement(k.a,{path:"/",component:he,exact:!0}),r.a.createElement(k.a,{path:"/categories/:id",component:he}),r.a.createElement(k.a,{path:"/phones/:id",component:ae}),r.a.createElement(k.a,{path:"/basket",component:$}));a.d(t,"store",function(){return ye});var fe,ve=Object(l.a)(),be=[u.a,Object(m.a)(ve)],ye=Object(o.createStore)((fe=ve,Object(o.combineReducers)({phones:f,categories:b,phonesPage:g,phonePage:O,basket:C,router:Object(p.b)(fe)})),Object(s.composeWithDevTools)(o.applyMiddleware.apply(void 0,be)));i.a.render(r.a.createElement(d.a,{store:ye},r.a.createElement(p.a,{history:ve},Ee)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.85ecb968.chunk.js.map